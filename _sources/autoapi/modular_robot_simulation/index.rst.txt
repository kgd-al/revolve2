:py:mod:`modular_robot_simulation`
==================================

.. py:module:: modular_robot_simulation

.. autoapi-nested-parse::

   Everything for the simulation of modular robots.



Package Contents
----------------

Classes
~~~~~~~

.. autoapisummary::

   modular_robot_simulation.ModularRobotScene
   modular_robot_simulation.ModularRobotSimulationState
   modular_robot_simulation.SceneSimulationState
   modular_robot_simulation.Terrain



Functions
~~~~~~~~~

.. autoapisummary::

   modular_robot_simulation.simulate_scenes
   modular_robot_simulation.test_robot



.. py:class:: ModularRobotScene


   A scene of modular robots in a terrain.

   .. py:attribute:: terrain
      :type: modular_robot_simulation._terrain.Terrain

      The terrain of the scene.


   .. py:method:: add_robot(robot: revolve2.modular_robot.ModularRobot, pose: revolve2.simulation.scene.Pose = Pose(), translate_z_aabb: bool = True) -> None

      Add a robot to the scene.

      :param robot: The robot to add.
      :param pose: The pose of the robot.
      :param translate_z_aabb: Whether the robot should be translated upwards so it's T-pose axis-aligned bounding box is exactly on the ground. I.e. if the robot should be placed exactly on the ground. The pose parameters is still added afterwards.


   .. py:method:: add_interactive_object(objt: revolve2.simulation.scene.MultiBodySystem) -> None

      Add an intractable object to the scene.

      :param objt: The object as a multi body system.


   .. py:method:: to_simulation_scene() -> tuple[revolve2.simulation.scene.Scene, dict[revolve2.simulation.scene.UUIDKey[revolve2.modular_robot.ModularRobot], revolve2.simulation.scene.MultiBodySystem]]

      Convert this to a simulation scene.

      :returns: The created scene.



.. py:class:: ModularRobotSimulationState(simulation_state: revolve2.simulation.scene.SimulationState, multi_body_system: revolve2.simulation.scene.MultiBodySystem)


   The state of a modular robot at some moment in a simulation.

   .. py:method:: get_pose() -> revolve2.simulation.scene.Pose

      Get the pose of the modular robot.

      :returns: The retrieved pose.


   .. py:method:: get_module_relative_pose(module: revolve2.modular_robot.body.Module) -> revolve2.simulation.scene.Pose
      :abstractmethod:

      Get the pose of a module, relative to its parent module's reference frame.

      In case there is no parent(the core), this is equal to getting the absolute pose.

      :param module: The module to get the pose for.
      :returns: The relative pose.
      :raises NotImplementedError: Always.


   .. py:method:: get_module_absolute_pose(module: revolve2.modular_robot.body.Module) -> revolve2.simulation.scene.Pose
      :abstractmethod:

      Get the pose of this module, relative the global reference frame.

      :param module: The module to get the pose for.
      :returns: The absolute pose.
      :raises NotImplementedError: Always.



.. py:class:: SceneSimulationState(simulation_state: revolve2.simulation.scene.SimulationState, modular_robot_to_multi_body_system_mapping: dict[revolve2.simulation.scene.UUIDKey[revolve2.modular_robot.ModularRobot], revolve2.simulation.scene.MultiBodySystem])


   An interface for reading a certain state of a modular robot simulation.

   .. py:method:: get_modular_robot_simulation_state(modular_robot: revolve2.modular_robot.ModularRobot) -> modular_robot_simulation._modular_robot_simulation_state.ModularRobotSimulationState

      Get the simulation state for one of the modular robots in the scene.

      :param modular_robot: The modular robot to get the state for.
      :returns: The retrieved state.
      :raises ValueError: If the robot is not in the scene.



.. py:function:: simulate_scenes(simulator: revolve2.simulation.simulator.Simulator, batch_parameters: revolve2.simulation.simulator.BatchParameters, scenes: modular_robot_simulation._modular_robot_scene.ModularRobotScene, record_settings: revolve2.simulation.simulator.RecordSettings | None = None) -> list[modular_robot_simulation._scene_simulation_state.SceneSimulationState]
                 simulate_scenes(simulator: revolve2.simulation.simulator.Simulator, batch_parameters: revolve2.simulation.simulator.BatchParameters, scenes: list[modular_robot_simulation._modular_robot_scene.ModularRobotScene], record_settings: revolve2.simulation.simulator.RecordSettings | None = None) -> list[list[modular_robot_simulation._scene_simulation_state.SceneSimulationState]]

   Simulate one or more scenes.

   :param simulator: The simulator to use for simulation.
   :param batch_parameters: The batch parameters to use for simulation.
   :param scenes: One or more scenes to simulate.
   :param record_settings: The optional record settings to use during simulation.
   :returns: A list of simulation states for each scene in the provided batch.


.. py:class:: Terrain


   Terrain consising of only static geometry.

   .. py:attribute:: static_geometry
      :type: list[revolve2.simulation.scene.geometry.Geometry]

      The static geometry that defines the terrain.



.. py:function:: test_robot(robot: revolve2.modular_robot.ModularRobot | revolve2.modular_robot.body.base.Body, terrain: modular_robot_simulation._terrain.Terrain, simulator: revolve2.simulation.simulator.Simulator, batch_parameters: revolve2.simulation.simulator.BatchParameters) -> None

   Test a robot with a manual brain.

   :param robot: The ModularRobot or Body instance.
   :param terrain: The terrain to test on.
   :param simulator: The simulator.
   :param batch_parameters: The batch parameters.


